<!DOCTYPE html>
<html lang="en">

{% include 'patterns/header.html' %}
{#{% include 'patterns/login_menu.html' %}#}

<style>
    .formm {
        position: relative;
        display: block;
        width: 30em;
        margin-left: 45%;
        margin-top: 7%;
        z-index: 99;
    }
    body{
        height: 50%;
        width: 100%;
    }
 .signup-button{
  /*position:relative;*/
  width: 13.5em;
  display: inline-block;
    text-align: center;
	background: #28a745;
	margin-top: 0.5em;
	color: #fff;
    margin-right: 100px;
	font-family: inherit;
  	font-size: 1em;
  	font-weight: inherit;
	line-height: var(--inputLineHeight);
	padding: 6px 13px;
	/*line-height: 1;*/
    border-color: transparent;
	border-radius: 14px;
     -webkit-transition-duration: 0.4s; /* Safari */
    transition-duration: 0.5s;
    transition: all .2s ease-in-out;
    cursor: pointer;
  z-index: 50;
}
.signup-button:hover{
  transform: scale(1.03);
  box-shadow: 0px 0px 8px #28a745;
}
</style>
<body>
        <div class="formm">
            <form action="/u/register/" method="post" style="margin: auto; position: relative;" onsubmit="return checkForm(this);">

                {% csrf_token %}
                <div class="Wrapper"><div class="input" style="margin-top: 2.5em;">
                     <input required type="text" name="nick" autocomplete="off" id="input" class="input-text"
                            placeholder="Ник" style=" position: relative;">
                </div></div>
                <div class="Wrapper"><div class="input">
                     <input required type="text" name="first_name" autocomplete="off" id="input"
                            class="input-text" placeholder="Имя" style=" position: relative;">
{#                    <span class="floating-label">Your email address</span>#}
                </div></div>
                <div class="Wrapper"><div class="input">
                     <input required type="text" name="last_name" autocomplete="off" id="input"
                            class="input-text" placeholder="Фамилия" style=" position: relative;">
{#                    <span class="floating-label">Your email address</span>#}
                </div></div>
                <div class="Wrapper"><div class="input">
                     <input required type="password" name="password" autocomplete="off" id="input"
                            class="input-text" placeholder="Пароль" style=" position: relative;">
{#                    <span class="floating-label">Your email address</span>#}
                </div></div>
               <div class="Wrapper"><div class="input">
                     <input required type="password" name="password1" autocomplete="off" id="input"
                            class="input-text" placeholder="Введите пароль еще раз" style=" position: relative;">
                </div></div>
                 <div class="Wrapper"><div class="input">
                     <input required type="text" name="email" autocomplete="off" id="input"
                            class="input-text" placeholder="Почта" style=" position: relative;">
                     {% if messages %}
                         <ul class="messages">
                        {% for message in messages %}
                        <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
                        {% endfor %}
                         </ul>
                    {% endif %}
                </div></div>
                <button type="submit" class="signup-button">Зарегестрироваться!</button>
            </form>
        </div>

<script type="text/javascript">

  function checkForm(form)
  {
    if(form.username.value == "") {
      alert("Error: Username cannot be blank!");
      form.username.focus();
      return false;
    }
    re = /^\w+$/;
    if(!re.test(form.username.value)) {
      alert("Error: Username must contain only letters, numbers and underscores!");
      form.username.focus();
      return false;
    }

    if(form.pwd1.value != "" && form.pwd1.value == form.pwd2.value) {
      if(form.pwd1.value.length < 6) {
        alert("Error: Password must contain at least six characters!");
        form.pwd1.focus();
        return false;
      }
      if(form.pwd1.value == form.username.value) {
        alert("Error: Password must be different from Username!");
        form.pwd1.focus();
        return false;
      }
      re = /[0-9]/;
      if(!re.test(form.pwd1.value)) {
        alert("Error: password must contain at least one number (0-9)!");
        form.pwd1.focus();
        return false;
      }
      re = /[a-z]/;
      if(!re.test(form.pwd1.value)) {
        alert("Error: password must contain at least one lowercase letter (a-z)!");
        form.pwd1.focus();
        return false;
      }
      re = /[A-Z]/;
      if(!re.test(form.pwd1.value)) {
        alert("Error: password must contain at least one uppercase letter (A-Z)!");
        form.pwd1.focus();
        return false;
      }
    } else {
      alert("Error: Please check that you've entered and confirmed your password!");
      form.pwd1.focus();
      return false;
    }

    alert("You entered a valid password: " + form.pwd1.value);
    return true;
  }

</script>

<form ... onsubmit="return checkForm(this);">
<p>Username: <input type="text" name="username"></p>
<p>Password: <input type="password" name="pwd1"></p>
<p>Confirm Password: <input type="password" name="pwd2"></p>
<p><input type="submit"></p>
</form>

</body>
</html>